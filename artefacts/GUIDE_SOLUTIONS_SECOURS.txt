================================================================================
         GUIDE : SOLUTIONS DE SECOURS TEMPORAIRES
                Elite Pronos 2 - Mode Manuel
================================================================================

üìå OBJECTIF
-----------
Fournir des solutions pour faire fonctionner Elite Pronos 2 sans h√©bergement
cloud, en mode manuel ou semi-automatique, tant que ton PC n'est pas toujours
allum√©.


================================================================================
PARTIE 1 : COMPRENDRE LA SITUATION ACTUELLE
================================================================================

PROBL√àME PRINCIPAL
------------------
‚úÖ L'application fonctionne parfaitement... quand ton PC est allum√©
‚ùå Mais si ton PC est √©teint :
   - Les joueurs ne peuvent pas se connecter
   - Pas de sourcing automatique
   - Pas de cl√¥ture automatique
   - Pas de calcul des gains
   - Pas d'envoi d'emails


SOLUTIONS TEMPORAIRES
---------------------
Ce guide contient :
1. Scripts de rattrapage (si tu rates une semaine)
2. Interface admin am√©lior√©e (actions manuelles faciles)
3. Syst√®me de sauvegarde automatique
4. Plan de communication avec les joueurs
5. Installation multi-PC (backup)


================================================================================
PARTIE 2 : SCRIPT DE RATTRAPAGE AUTOMATIQUE
================================================================================

OBJECTIF : Si tu oublies de faire une action, ce script fait tout d'un coup.

FICHIER : rattrapage_semaine.py
--------------------------------

Cr√©e ce fichier √† la racine du projet :

```python
"""
Script de rattrapage pour une semaine
Ex√©cute toutes les actions d'une semaine en une fois
"""

import sys
from datetime import datetime

from modules.sourcing_bot import SourcingBot
from modules.calcul_trophees import CalculTrophees
from modules.email_sender import EmailSender
from modules.generateur_resume import GenerateurResume
from modules.database_manager import DatabaseManager

def rattraper_semaine(semaine):
    """
    Rattrape une semaine compl√®te
    """
    print(f"\n{'='*70}")
    print(f"üîß RATTRAPAGE SEMAINE {semaine}")
    print(f"{'='*70}\n")
    
    # V√©rifier si la semaine existe
    db = DatabaseManager()
    conn = db.create_connection()
    cursor = conn.cursor()
    
    cursor.execute("""
        SELECT statut FROM journees_calendrier WHERE semaine = ?
    """, (semaine,))
    
    result = cursor.fetchone()
    
    if not result:
        print(f"‚ùå Semaine {semaine} introuvable")
        conn.close()
        return
    
    statut = result[0]
    conn.close()
    
    print(f"üìä Statut actuel : {statut}\n")
    
    # √âTAPE 1 : Sourcing (si pas fait)
    print("üìä √âTAPE 1/5 : Sourcing")
    print("-" * 70)
    
    conn = db.create_connection()
    cursor = conn.cursor()
    cursor.execute("""
        SELECT sourcing_effectue FROM journees_calendrier WHERE semaine = ?
    """, (semaine,))
    sourcing_fait = cursor.fetchone()[0]
    conn.close()
    
    if not sourcing_fait:
        print("‚ö†Ô∏è Sourcing pas encore fait")
        reponse = input("Lancer le sourcing ? (o/n) : ")
        
        if reponse.lower() == 'o':
            try:
                bot = SourcingBot()
                bot.run(semaine=semaine)
                
                conn = db.create_connection()
                cursor = conn.cursor()
                cursor.execute("""
                    UPDATE journees_calendrier 
                    SET sourcing_effectue = 1 
                    WHERE semaine = ?
                """, (semaine,))
                conn.commit()
                conn.close()
                
                print("‚úÖ Sourcing effectu√©\n")
            except Exception as e:
                print(f"‚ùå Erreur sourcing : {e}\n")
    else:
        print("‚úÖ Sourcing d√©j√† fait\n")
    
    # √âTAPE 2 : Cl√¥ture (si besoin)
    print("üîí √âTAPE 2/5 : Cl√¥ture")
    print("-" * 70)
    
    if statut == 'a_venir':
        print("‚ö†Ô∏è Cl√¥ture pas encore faite")
        reponse = input("Forcer la cl√¥ture ? (o/n) : ")
        
        if reponse.lower() == 'o':
            try:
                import subprocess
                subprocess.run(["python", "modules/cloture_pronos.py", str(semaine)])
                
                conn = db.create_connection()
                cursor = conn.cursor()
                cursor.execute("""
                    UPDATE journees_calendrier 
                    SET statut = 'en_cours' 
                    WHERE semaine = ?
                """, (semaine,))
                conn.commit()
                conn.close()
                
                print("‚úÖ Cl√¥ture effectu√©e\n")
            except Exception as e:
                print(f"‚ùå Erreur cl√¥ture : {e}\n")
    else:
        print("‚úÖ Cl√¥ture d√©j√† faite\n")
    
    # √âTAPE 3 : Mise √† jour r√©sultats
    print("‚öΩ √âTAPE 3/5 : Mise √† jour des r√©sultats")
    print("-" * 70)
    
    conn = db.create_connection()
    cursor = conn.cursor()
    cursor.execute("""
        SELECT COUNT(*) FROM matchs 
        WHERE semaine = ? AND resultat IS NULL
    """, (semaine,))
    matchs_sans_resultat = cursor.fetchone()[0]
    conn.close()
    
    if matchs_sans_resultat > 0:
        print(f"‚ö†Ô∏è {matchs_sans_resultat} match(s) sans r√©sultat")
        reponse = input("R√©cup√©rer les r√©sultats ? (o/n) : ")
        
        if reponse.lower() == 'o':
            try:
                bot = SourcingBot()
                bot.update_results(semaine=semaine)
                print("‚úÖ R√©sultats mis √† jour\n")
            except Exception as e:
                print(f"‚ùå Erreur r√©sultats : {e}\n")
    else:
        print("‚úÖ Tous les r√©sultats sont enregistr√©s\n")
    
    # √âTAPE 4 : Calcul troph√©es
    print("üèÜ √âTAPE 4/5 : Calcul des troph√©es")
    print("-" * 70)
    
    conn = db.create_connection()
    cursor = conn.cursor()
    cursor.execute("""
        SELECT COUNT(*) FROM trophees WHERE semaine = ?
    """, (semaine,))
    trophees_existants = cursor.fetchone()[0]
    conn.close()
    
    if trophees_existants > 0:
        print(f"‚ö†Ô∏è {trophees_existants} troph√©e(s) d√©j√† attribu√©(s)")
        reponse = input("Recalculer les troph√©es ? (o/n) : ")
        
        if reponse.lower() == 'o':
            # Supprimer les anciens
            conn = db.create_connection()
            cursor = conn.cursor()
            cursor.execute("DELETE FROM trophees WHERE semaine = ?", (semaine,))
            conn.commit()
            conn.close()
    else:
        reponse = 'o'
    
    if reponse == 'o':
        try:
            calc = CalculTrophees(semaine)
            calc.calculer_trophees()
            print("‚úÖ Troph√©es calcul√©s\n")
        except Exception as e:
            print(f"‚ùå Erreur troph√©es : {e}\n")
    
    # √âTAPE 5 : Envoi emails
    print("üìß √âTAPE 5/5 : Envoi des emails")
    print("-" * 70)
    
    reponse = input("Envoyer les r√©caps par email ? (o/n) : ")
    
    if reponse.lower() == 'o':
        try:
            # G√©n√©rer le r√©sum√©
            gen = GenerateurResume(semaine)
            resume = gen.generer_resume()
            
            # Envoyer les emails
            sender = EmailSender()
            sender.envoyer_recap_semaine(semaine)
            
            print("‚úÖ Emails envoy√©s\n")
        except Exception as e:
            print(f"‚ùå Erreur emails : {e}\n")
    
    # Marquer comme termin√©e
    conn = db.create_connection()
    cursor = conn.cursor()
    cursor.execute("""
        UPDATE journees_calendrier 
        SET statut = 'terminee' 
        WHERE semaine = ?
    """, (semaine,))
    conn.commit()
    conn.close()
    
    print(f"\n{'='*70}")
    print(f"‚úÖ RATTRAPAGE SEMAINE {semaine} TERMIN√â")
    print(f"{'='*70}\n")


if __name__ == "__main__":
    if len(sys.argv) < 2:
        print("Usage: python rattrapage_semaine.py [NUMERO_SEMAINE]")
        print("Exemple: python rattrapage_semaine.py 18")
        sys.exit(1)
    
    semaine = int(sys.argv[1])
    rattraper_semaine(semaine)
```


UTILISATION
-----------

Quand tu veux rattraper une semaine :

```bash
python rattrapage_semaine.py 18
```

Le script te guide pas √† pas et te demande confirmation avant chaque action.


================================================================================
PARTIE 3 : AM√âLIORATION DE L'INTERFACE ADMIN
================================================================================

On va am√©liorer l'interface admin pour qu'elle soit encore plus facile √†
utiliser en mode manuel.

FICHIER : modules/interface_admin.py (AJOUTS)
----------------------------------------------

Ajoute cet onglet suppl√©mentaire dans l'interface admin :


1. Dans create_interface(), apr√®s l'onglet "Gestion Matchs", ajoute :

```python
# Onglet 4 : Actions Manuelles
tab_actions = tk.Frame(notebook, bg=COULEUR_FOND)
notebook.add(tab_actions, text="‚öôÔ∏è Actions Manuelles")
self.create_actions_manuelles(tab_actions)
```


2. Ajoute cette nouvelle m√©thode √† la fin de la classe :

```python
def create_actions_manuelles(self, parent):
    """
    Onglet avec boutons pour lancer manuellement toutes les actions
    """
    canvas = tk.Canvas(parent, bg=COULEUR_FOND, highlightthickness=0)
    canvas.pack(fill="both", expand=True, padx=30, pady=30)
    
    tk.Label(
        canvas,
        text="‚öôÔ∏è ACTIONS MANUELLES",
        font=("Arial", 18, "bold"),
        fg=COULEUR_OR,
        bg=COULEUR_FOND
    ).pack(pady=20)
    
    # S√©lection de semaine
    semaine_frame = tk.Frame(canvas, bg=COULEUR_FOND)
    semaine_frame.pack(pady=20)
    
    tk.Label(
        semaine_frame,
        text="Semaine :",
        font=("Arial", 14),
        fg=COULEUR_BLANC,
        bg=COULEUR_FOND
    ).pack(side="left", padx=10)
    
    self.actions_semaine_var = tk.StringVar(value="18")
    semaine_spinbox = tk.Spinbox(
        semaine_frame,
        from_=1,
        to=38,
        textvariable=self.actions_semaine_var,
        font=("Arial", 14),
        width=5
    )
    semaine_spinbox.pack(side="left")
    
    # Boutons d'actions
    actions = [
        ("üìä SOURCING", self.action_sourcing, "#4ECDC4"),
        ("üîí CL√îTURE", self.action_cloture, "#FF6B6B"),
        ("‚öΩ R√âSULTATS", self.action_resultats, "#95E77D"),
        ("üèÜ TROPH√âES", self.action_trophees, "#FFD700"),
        ("üìß EMAILS", self.action_emails, "#FF69B4"),
        ("üîß RATTRAPAGE COMPLET", self.action_rattrapage, "#FF0000")
    ]
    
    for texte, commande, couleur in actions:
        btn = tk.Button(
            canvas,
            text=texte,
            font=("Arial", 14, "bold"),
            bg=couleur,
            fg="black" if couleur != "#FF0000" else "white",
            width=30,
            height=2,
            command=commande
        )
        btn.pack(pady=10)


def action_sourcing(self):
    semaine = int(self.actions_semaine_var.get())
    if messagebox.askyesno("Sourcing", f"Lancer le sourcing pour la semaine {semaine} ?"):
        try:
            from modules.sourcing_bot import SourcingBot
            bot = SourcingBot()
            bot.run(semaine=semaine)
            messagebox.showinfo("Succ√®s", f"‚úÖ Sourcing semaine {semaine} effectu√©")
        except Exception as e:
            messagebox.showerror("Erreur", f"‚ùå {e}")


def action_cloture(self):
    semaine = int(self.actions_semaine_var.get())
    if messagebox.askyesno("Cl√¥ture", f"Cl√¥turer les pronos de la semaine {semaine} ?"):
        try:
            import subprocess
            subprocess.run(["python", "modules/cloture_pronos.py", str(semaine)])
            messagebox.showinfo("Succ√®s", f"‚úÖ Cl√¥ture semaine {semaine} effectu√©e")
        except Exception as e:
            messagebox.showerror("Erreur", f"‚ùå {e}")


def action_resultats(self):
    semaine = int(self.actions_semaine_var.get())
    if messagebox.askyesno("R√©sultats", f"R√©cup√©rer les r√©sultats de la semaine {semaine} ?"):
        try:
            from modules.sourcing_bot import SourcingBot
            bot = SourcingBot()
            bot.update_results(semaine=semaine)
            messagebox.showinfo("Succ√®s", f"‚úÖ R√©sultats semaine {semaine} mis √† jour")
        except Exception as e:
            messagebox.showerror("Erreur", f"‚ùå {e}")


def action_trophees(self):
    semaine = int(self.actions_semaine_var.get())
    if messagebox.askyesno("Troph√©es", f"Calculer les troph√©es de la semaine {semaine} ?"):
        try:
            from modules.calcul_trophees import CalculTrophees
            calc = CalculTrophees(semaine)
            calc.calculer_trophees()
            messagebox.showinfo("Succ√®s", f"‚úÖ Troph√©es semaine {semaine} calcul√©s")
        except Exception as e:
            messagebox.showerror("Erreur", f"‚ùå {e}")


def action_emails(self):
    semaine = int(self.actions_semaine_var.get())
    if messagebox.askyesno("Emails", f"Envoyer les r√©caps de la semaine {semaine} ?"):
        try:
            from modules.email_sender import EmailSender
            from modules.generateur_resume import GenerateurResume
            
            # G√©n√©rer r√©sum√©
            gen = GenerateurResume(semaine)
            resume = gen.generer_resume()
            
            # Envoyer emails
            sender = EmailSender()
            sender.envoyer_recap_semaine(semaine)
            
            messagebox.showinfo("Succ√®s", f"‚úÖ Emails semaine {semaine} envoy√©s")
        except Exception as e:
            messagebox.showerror("Erreur", f"‚ùå {e}")


def action_rattrapage(self):
    semaine = int(self.actions_semaine_var.get())
    if messagebox.askyesno("Rattrapage", 
        f"Rattraper TOUTES les actions de la semaine {semaine} ?\n\n"
        "Cela va :\n"
        "- Faire le sourcing\n"
        "- Cl√¥turer les pronos\n"
        "- R√©cup√©rer les r√©sultats\n"
        "- Calculer les troph√©es\n"
        "- Envoyer les emails"):
        
        try:
            import subprocess
            subprocess.run(["python", "rattrapage_semaine.py", str(semaine)])
            messagebox.showinfo("Succ√®s", f"‚úÖ Rattrapage semaine {semaine} termin√©")
        except Exception as e:
            messagebox.showerror("Erreur", f"‚ùå {e}")
```


UTILISATION
-----------

Lance l'interface admin :
```bash
python modules/interface_admin.py
```

Va dans l'onglet "Actions Manuelles" et clique sur les boutons pour lancer
les actions une par une, ou "Rattrapage complet" pour tout faire d'un coup.


================================================================================
PARTIE 4 : SYST√àME DE SAUVEGARDE AUTOMATIQUE
================================================================================

OBJECTIF : Sauvegarder automatiquement la base de donn√©es r√©guli√®rement.

FICHIER : sauvegarde_auto.py
-----------------------------

Cr√©e ce fichier √† la racine :

```python
"""
Script de sauvegarde automatique
Copie la base de donn√©es avec horodatage
"""

import shutil
import os
from datetime import datetime

# Chemins
DB_PATH = "database/pronos_expert.db"
BACKUP_DIR = "backups"

# Cr√©er le dossier backups s'il n'existe pas
if not os.path.exists(BACKUP_DIR):
    os.makedirs(BACKUP_DIR)
    print(f"‚úÖ Dossier {BACKUP_DIR}/ cr√©√©")

# Nom du fichier de backup avec date
now = datetime.now()
backup_name = f"pronos_expert_{now.strftime('%Y%m%d_%H%M%S')}.db"
backup_path = os.path.join(BACKUP_DIR, backup_name)

# Copier la base
try:
    shutil.copy2(DB_PATH, backup_path)
    print(f"‚úÖ Sauvegarde cr√©√©e : {backup_path}")
    
    # V√©rifier la taille
    size = os.path.getsize(backup_path)
    print(f"üìä Taille : {size / 1024:.2f} KB")
    
    # Compter le nombre de sauvegardes
    backups = [f for f in os.listdir(BACKUP_DIR) if f.endswith('.db')]
    print(f"üìÇ Total sauvegardes : {len(backups)}")
    
    # Nettoyer les anciennes sauvegardes (garder les 10 derni√®res)
    if len(backups) > 10:
        backups.sort()
        to_delete = backups[:-10]
        
        for old_backup in to_delete:
            old_path = os.path.join(BACKUP_DIR, old_backup)
            os.remove(old_path)
            print(f"üóëÔ∏è Ancienne sauvegarde supprim√©e : {old_backup}")

except Exception as e:
    print(f"‚ùå Erreur sauvegarde : {e}")
```


PLANIFICATION AUTOMATIQUE (Windows)
------------------------------------

Pour que la sauvegarde se fasse automatiquement tous les jours :

1. Ouvre "Planificateur de t√¢ches" Windows
2. Actions ‚Üí Cr√©er une t√¢che
3. Nom : "Sauvegarde Elite Pronos"
4. D√©clencheurs ‚Üí Nouveau :
   - Quotidien √† 23h00
5. Actions ‚Üí Nouveau :
   - Programme : C:\Users\lasal\AppData\Local\Python\pythoncore-3.14-64\python.exe
   - Argument : C:\Users\lasal\OneDrive\elite_pronos_2\sauvegarde_auto.py
   - D√©marrer dans : C:\Users\lasal\OneDrive\elite_pronos_2
6. OK


UTILISATION MANUELLE
---------------------

```bash
python sauvegarde_auto.py
```


================================================================================
PARTIE 5 : PLAN DE COMMUNICATION AVEC LES JOUEURS
================================================================================

Si tu ne peux pas garantir que ton PC soit toujours allum√©, il faut informer
les joueurs des horaires d'acc√®s.

MOD√àLE D'EMAIL √Ä ENVOYER
-------------------------

Objet : üìÖ Elite Pronos 2 - Horaires d'acc√®s

Salut les pronos !

Petite info importante sur l'acc√®s √† l'application :

üïê HORAIRES D'ACC√àS :
L'application est accessible quand mon PC est allum√©.
G√©n√©ralement : [Tes horaires typiques, exemple : Lundi-Vendredi 18h-minuit, Week-end 10h-minuit]

‚ö†Ô∏è CONSEILS :
- Faites vos pronos d√®s que la journ√©e est disponible
- Ne pas attendre la derni√®re minute
- En cas de probl√®me, contactez-moi sur [Ton num√©ro/WhatsApp]

üîú √âVOLUTION :
Je travaille sur une solution d'h√©bergement cloud pour que l'app soit
accessible 24h/24. En attendant, merci de votre compr√©hension !

√Ä vos pronos ! üéÆ


RAPPELS R√âGULIERS
------------------

Envoie un rappel chaque d√©but de journ√©e :

"üéÆ Journ√©e 18 disponible !
Cl√¥ture : [Date et heure]
Faites vos pronos maintenant, l'app est accessible jusqu'√† [heure] ce soir."


================================================================================
PARTIE 6 : INSTALLATION MULTI-PC (BACKUP)
================================================================================

Pour avoir un PC de secours en cas de panne :

√âTAPE 1 : PR√âPARER UN 2e PC
----------------------------

1. Installe Python 3.14 sur le 2e PC

2. Copie tout le dossier elite_pronos_2/ depuis OneDrive

3. Installe les packages :
   ```bash
   python -m pip install requests --break-system-packages
   python -m pip install python-docx --break-system-packages
   python -m pip install schedule --break-system-packages
   ```

4. Teste :
   ```bash
   python main.py
   ```


√âTAPE 2 : SYNCHRONISATION
--------------------------

Comme ton projet est sur OneDrive :
- ‚úÖ Les modifications se synchronisent automatiquement
- ‚úÖ Tu as toujours la derni√®re version sur les 2 PC

Attention : Ne lance jamais l'application sur les 2 PC en m√™me temps !
(Conflit sur la base de donn√©es)


√âTAPE 3 : PROC√âDURE DE BASCULEMENT
-----------------------------------

Si ton PC principal tombe en panne :

1. Ouvre le 2e PC
2. Attends que OneDrive se synchronise
3. Lance l'application :
   ```bash
   python main.py
   ```
4. Continue normalement


================================================================================
PARTIE 7 : CHECKLIST HEBDOMADAIRE MANUELLE
================================================================================

Si tu g√®res manuellement, voici la checklist √† suivre chaque semaine :

LUNDI (7 jours avant les matchs)
---------------------------------
‚òê Allumer le PC
‚òê Lancer : python modules/sync_calendrier.py afficher
‚òê V√©rifier la prochaine journ√©e
‚òê Lancer l'interface admin
‚òê Onglet "Actions Manuelles" ‚Üí Sourcing
‚òê V√©rifier que les 4 matchs sont bien enregistr√©s


MARDI-JEUDI
-----------
‚òê V√©rifier que les joueurs font leurs pronos
‚òê Consulter modules/interface_admin.py pour voir qui a pronostiqu√©


VENDREDI 19H30
--------------
‚òê Allumer le PC imp√©rativement
‚òê Lancer l'interface admin
‚òê Onglet "Actions Manuelles" ‚Üí Cl√¥ture
‚òê V√©rifier que tous les pronos sont valid√©s


DIMANCHE SOIR (apr√®s les matchs)
---------------------------------
‚òê Allumer le PC
‚òê Lancer l'interface admin
‚òê Onglet "Actions Manuelles" :
   ‚òê R√©sultats
   ‚òê Troph√©es
   ‚òê Emails
‚òê OU utiliser "Rattrapage complet" pour tout faire d'un coup


================================================================================
PARTIE 8 : SCRIPT DE V√âRIFICATION RAPIDE
================================================================================

Pour v√©rifier rapidement l'√©tat du syst√®me :

FICHIER : verif_rapide.py
--------------------------

```python
"""
V√©rification rapide de l'√©tat du syst√®me
"""

from modules.database_manager import DatabaseManager
from datetime import datetime

db = DatabaseManager()
conn = db.create_connection()
cursor = conn.cursor()

print("\n" + "="*70)
print("üîç V√âRIFICATION RAPIDE - ELITE PRONOS 2")
print("="*70 + "\n")

# Prochaine journ√©e
cursor.execute("""
    SELECT semaine, date_premier_match, date_cloture_pronos, statut, sourcing_effectue
    FROM journees_calendrier
    WHERE statut IN ('a_venir', 'en_cours')
    ORDER BY semaine
    LIMIT 1
""")

journee = cursor.fetchone()

if journee:
    semaine, date_match, date_cloture, statut, sourcing = journee
    
    print(f"üìÖ PROCHAINE JOURN√âE : Semaine {semaine}")
    print(f"   Statut : {statut}")
    print(f"   1er match : {date_match}")
    print(f"   Cl√¥ture : {date_cloture}")
    print(f"   Sourcing : {'‚úÖ Fait' if sourcing else '‚ùå √Ä faire'}\n")
    
    # Nombre de pronos
    cursor.execute("""
        SELECT COUNT(DISTINCT utilisateur_id) 
        FROM pronostics 
        WHERE semaine = ?
    """, (semaine,))
    
    nb_pronos = cursor.fetchone()[0]
    
    cursor.execute("SELECT COUNT(*) FROM utilisateurs WHERE statut = 'actif'")
    nb_joueurs = cursor.fetchone()[0]
    
    print(f"üë• PRONOS : {nb_pronos}/{nb_joueurs} joueurs")
    
    if nb_pronos < nb_joueurs:
        print("   ‚ö†Ô∏è Certains joueurs n'ont pas encore pronostiqu√©\n")
    else:
        print("   ‚úÖ Tous les joueurs ont pronostiqu√©\n")

else:
    print("‚ÑπÔ∏è Aucune journ√©e en cours\n")

# Derni√®re semaine termin√©e
cursor.execute("""
    SELECT semaine FROM journees_calendrier
    WHERE statut = 'terminee'
    ORDER BY semaine DESC
    LIMIT 1
""")

derniere = cursor.fetchone()

if derniere:
    print(f"üèÜ DERNI√àRE SEMAINE TERMIN√âE : Semaine {derniere[0]}\n")

# Classement g√©n√©ral
cursor.execute("""
    SELECT u.pseudo, SUM(h.points_totaux) as total
    FROM historique h
    JOIN utilisateurs u ON h.utilisateur_id = u.id
    GROUP BY u.id
    ORDER BY total DESC
    LIMIT 3
""")

print("ü•á TOP 3 G√âN√âRAL :")
medailles = ['ü•á', 'ü•à', 'ü•â']
for idx, (pseudo, points) in enumerate(cursor.fetchall()):
    print(f"   {medailles[idx]} {pseudo} : {points:.1f} pts")

print("\n" + "="*70 + "\n")

conn.close()
```


UTILISATION
-----------

```bash
python verif_rapide.py
```

Te donne un r√©sum√© instantan√© de l'√©tat du syst√®me.


================================================================================
PARTIE 9 : TROUBLESHOOTING
================================================================================

PROBL√àME : J'ai oubli√© de faire le sourcing
SOLUTION : python rattrapage_semaine.py [SEMAINE]


PROBL√àME : J'ai oubli√© la cl√¥ture
SOLUTION : Interface admin ‚Üí Actions Manuelles ‚Üí Cl√¥ture (ou rattrapage)


PROBL√àME : Les matchs sont pass√©s mais pas de calcul
SOLUTION : Interface admin ‚Üí Actions Manuelles ‚Üí R√©sultats ‚Üí Troph√©es ‚Üí Emails


PROBL√àME : Un joueur dit qu'il ne peut pas se connecter
SOLUTION : V√©rifie que ton PC est allum√© et l'application lanc√©e


PROBL√àME : La base de donn√©es est corrompue
SOLUTION : Restaure depuis backups/ (voir PARTIE 4)


================================================================================
PARTIE 10 : CHECKLIST COMPL√àTE
================================================================================

AVANT CHAQUE SEMAINE :
‚òê PC allum√©
‚òê V√©rification : python verif_rapide.py
‚òê Sourcing effectu√©
‚òê Email/message aux joueurs : "Journ√©e X disponible !"

PENDANT LA SEMAINE :
‚òê V√©rifier r√©guli√®rement qui a pronostiqu√©
‚òê Relances si besoin

JOUR DE CL√îTURE :
‚òê PC allum√© imp√©rativement √† 19h30
‚òê Cl√¥ture √† 20h pr√©cises
‚òê V√©rifier que c'est bien fait

APR√àS LES MATCHS :
‚òê PC allum√©
‚òê R√©sultats r√©cup√©r√©s
‚òê Troph√©es calcul√©s
‚òê Emails envoy√©s

MAINTENANCE :
‚òê Sauvegarde quotidienne
‚òê V√©rifier les logs
‚òê Nettoyer les anciennes sauvegardes


================================================================================
FIN DU GUIDE - SOLUTIONS DE SECOURS TEMPORAIRES
================================================================================

Ces solutions te permettent de faire fonctionner l'application sans h√©bergement
cloud, mais n√©cessitent ton implication r√©guli√®re.

Pour une vraie automatisation 24h/24, consulte :
GUIDE_HEBERGEMENT_CLOUD.txt

Bon courage avec ton application ! üöÄ
